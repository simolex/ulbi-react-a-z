{"version":3,"sources":["components/UI/modal/UiModal.module.css","components/UI/pagination/UiPagination.module.css","components/UI/button/UiButton.module.css","components/UI/loader/UiLoader.module.css","components/UI/input/UiInput.module.css","context/index.js","components/UI/button/UiButton.jsx","components/UI/navbar/UiNavbar.jsx","components/pages/About.jsx","components/pages/Error.jsx","hooks/useFetching.js","API/PostService.js","components/UI/loader/UiLoader.jsx","components/pages/PostIdPage.jsx","components/UI/input/UiInput.jsx","components/UI/select/UiSelect.jsx","components/PostFilter.jsx","components/PostForm.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/modal/UiModal.jsx","utils/pages.js","components/UI/pagination/UiPagination.jsx","hooks/usePosts.js","components/pages/Posts.jsx","hooks/useObserver.js","components/pages/Login.jsx","router/index.js","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","AuthContext","createContext","UiButton","children","props","className","classes","uiBtn","UiNavbar","useContext","isAuth","setIsAuth","onClick","localStorage","removeItem","to","About","Error","style","color","useFetching","callback","useState","isLoading","setIsLoading","error","setError","fetching","message","PostService","limit","page","axios","get","params","_limit","_page","response","id","UiLoader","loader","PostIdPage","useParams","post","setPost","comments","setComments","getById","resp","data","fetchPostById","getCommentsByPostId","fetchComments","isLoadingComments","useEffect","title","map","comm","marginTop","name","body","UiInput","React","forwardRef","ref","uiInput","UiSelect","options","defaultValue","value","onChange","e","target","disabled","option","PostFilter","filter","setFilter","query","placeholder","sort","selestedSort","PostForm","create","type","preventDefault","newPost","Date","now","PostItem","number","remove","router","useNavigate","PostList","posts","length","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","UiModal","visible","setVisible","rootClasses","uiModal","push","active","join","uiModalContent","stopPropagation","getPageCount","totalPages","Math","ceil","UiPagination","changePage","pagesArray","i","getPagesArray","defaultClasses","currentClasses","page__current","page__wrapper","p","usePosts","sortedPosts","useMemo","a","b","localeCompare","useSortedPosts","toLowerCase","includes","Posts","setPosts","modal","setModal","setTotalPages","setLimit","setPage","sortedAndSearchedPosts","lastElement","useRef","getAll","totalCount","headers","fetchPosts","isPostsLoading","postError","canLoad","observer","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","margin","height","backgroundColor","display","justifyContent","Login","onSubmit","setItem","privateRoutes","path","element","replace","publicRoutes","AppRouter","r","App","getItem","Provider","basename","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a9aa13dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"uiModal\":\"UiModal_uiModal__10Dt5\",\"uiModalContent\":\"UiModal_uiModalContent__3Orbb\",\"active\":\"UiModal_active__9U5B9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page__wrapper\":\"UiPagination_page__wrapper__2Kjyh\",\"page\":\"UiPagination_page__12JjC\",\"page__current\":\"UiPagination_page__current__1cRi0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uiBtn\":\"UiButton_uiBtn__2kfzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"UiLoader_loader__1JYFW\",\"rotateLoader\":\"UiLoader_rotateLoader__2T0zw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uiInput\":\"UiInput_uiInput__2dFz6\"};","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext(null);\r\n","import React from \"react\";\r\nimport classes from \"./UiButton.module.css\";\r\n\r\nconst UiButton = ({ children, ...props }) => {\r\n  return (\r\n    <button className={classes.uiBtn} {...props}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default UiButton;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../../context\";\r\nimport UiButton from \"../button/UiButton\";\r\n\r\nconst UiNavbar = () => {\r\n  const { isAuth, setIsAuth } = useContext(AuthContext);\r\n\r\n  const logouting = () => {\r\n    setIsAuth(false);\r\n    localStorage.removeItem(\"auth\");\r\n  };\r\n  return (\r\n    <div className=\"navbar\">\r\n      {isAuth ? <UiButton onClick={logouting}>Выйти</UiButton> : \"\"}\r\n      <div className=\"navbar__wrapper\">\r\n        <Link to=\"/about\" className=\"navbar__links\">\r\n          О Сайте\r\n        </Link>\r\n        <Link to=\"/posts\" className=\"navbar__links\">\r\n          Посты\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UiNavbar;\r\n","import React from \"react\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <div>\r\n      <h1>Это учебное приложение</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React from \"react\";\r\n\r\nconst Error = () => {\r\n  return (\r\n    <div>\r\n      <h1 style={{ color: \"magenta\" }}> Страница не существует!!!!</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import { useState } from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetching = async (...args) => {\r\n    try {\r\n      setIsLoading(true);\r\n      await callback(...args);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  return [fetching, isLoading, error];\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport default class PostService {\r\n  static async getAll(limit = 10, page = 1) {\r\n    const response = await axios.get(\"https://jsonplaceholder.typicode.com/posts\", {\r\n      params: {\r\n        _limit: limit,\r\n        _page: page,\r\n      },\r\n    });\r\n    return response;\r\n  }\r\n  static async getById(id) {\r\n    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}`);\r\n    return response;\r\n  }\r\n  static async getCommentsByPostId(id) {\r\n    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\r\n    return response;\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport classes from \"./UiLoader.module.css\";\r\n\r\nconst UiLoader = () => {\r\n  return <div className={classes.loader}></div>;\r\n};\r\n\r\nexport default UiLoader;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useFetching } from \"../../hooks/useFetching\";\r\nimport PostService from \"../../API/PostService\";\r\nimport UiLoader from \"../UI/loader/UiLoader\";\r\n\r\nconst PostIdPage = () => {\r\n  const params = useParams();\r\n  const [post, setPost] = useState({});\r\n  const [comments, setComments] = useState([]);\r\n  const [fetchPostById, isLoading, error] = useFetching(async (id) => {\r\n    const resp = await PostService.getById(id);\r\n    setPost(resp.data);\r\n  });\r\n\r\n  const [fetchComments, isLoadingComments, errorComments] = useFetching(async (id) => {\r\n    const resp = await PostService.getCommentsByPostId(id);\r\n    setComments(resp.data);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPostById(params.id);\r\n    fetchComments(params.id);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Это пост ID ={params.id}</h1>\r\n      {isLoading ? (\r\n        <UiLoader />\r\n      ) : (\r\n        <div>\r\n          {post.id}. {post.title}\r\n        </div>\r\n      )}\r\n      <h2>Комментарии:</h2>\r\n      {isLoadingComments ? (\r\n        <UiLoader />\r\n      ) : (\r\n        <div>\r\n          {comments.map((comm) => (\r\n            <div style={{ marginTop: \"15px\" }} key={comm.id}>\r\n              <h5>\r\n                {comm.id}. {comm.name}\r\n              </h5>\r\n              <div>{comm.body}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostIdPage;\r\n","import React from \"react\";\r\nimport classes from \"./UiInput.module.css\";\r\n\r\nconst UiInput = React.forwardRef((props, ref) => {\r\n  return <input ref={ref} {...props} className={classes.uiInput} />;\r\n});\r\n\r\nexport default UiInput;\r\n","import React from \"react\";\r\n\r\nconst UiSelect = ({ options, defaultValue, value, onChange }) => {\r\n  return (\r\n    <select value={value} onChange={(e) => onChange(e.target.value)}>\r\n      <option value=\"\" disabled>\r\n        {defaultValue}\r\n      </option>\r\n      {options.map((option) => (\r\n        <option key={option.value} value={option.value}>\r\n          {option.name}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default UiSelect;\r\n","import React from \"react\";\r\nimport UiInput from \"./UI/input/UiInput\";\r\nimport UiSelect from \"./UI/select/UiSelect\";\r\n\r\nconst PostFilter = ({ filter, setFilter }) => {\r\n  return (\r\n    <div>\r\n      <UiInput\r\n        value={filter.query}\r\n        onChange={(e) => setFilter({ ...filter, query: e.target.value })}\r\n        placeholder=\"Поиск...\"\r\n      />\r\n      <UiSelect\r\n        value={filter.sort}\r\n        onChange={(selestedSort) => setFilter({ ...filter, sort: selestedSort })}\r\n        defaultValue=\"Сортировка\"\r\n        options={[\r\n          { value: \"title\", name: \"По наименованию\" },\r\n          { value: \"body\", name: \"По описанию\" },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostFilter;\r\n","import React, { useState } from \"react\";\r\nimport UiButton from \"./UI/button/UiButton\";\r\nimport UiInput from \"./UI/input/UiInput\";\r\n\r\nconst PostForm = ({ create }) => {\r\n  const [post, setPost] = useState({ title: \"\", body: \"\" });\r\n  const AddNewPost = (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      id: Date.now(),\r\n      ...post,\r\n    };\r\n    create(newPost);\r\n    setPost({ title: \"\", body: \"\" });\r\n    // console.log(bodyInputRef.current.value);\r\n  };\r\n  // const bodyInputRef = useRef();\r\n  return (\r\n    <form>\r\n      {/* Управляемый компонент */}\r\n      <UiInput\r\n        value={post.title}\r\n        onChange={(e) => setPost({ ...post, title: e.target.value })}\r\n        type=\"text\"\r\n        placeholder=\"Название поста\"\r\n      />\r\n      {/* ./Управляемый компонент */}\r\n\r\n      <UiInput\r\n        value={post.body}\r\n        onChange={(e) => setPost({ ...post, body: e.target.value })}\r\n        type=\"text\"\r\n        placeholder=\"Описание поста\"\r\n      />\r\n\r\n      {/* Неуправляемый\\ Неконтролируемый компонент */}\r\n      {/* <UiInput ref={bodyInputRef} type=\"text\" placeholder=\"Описание поста\" /> */}\r\n      {/* ./Неуправляемый\\ Неконтролируемый компонент */}\r\n\r\n      <UiButton onClick={AddNewPost}>Создать пост</UiButton>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import React from \"react\";\r\nimport UiButton from \"./UI/button/UiButton\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst PostItem = ({ number, post, remove }) => {\r\n  const router = useNavigate();\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post__content\">\r\n        <strong>\r\n          {number}. {post.title}\r\n        </strong>\r\n        <div>{post.body}</div>\r\n      </div>\r\n      <div className=\"post__btns\">\r\n        <UiButton onClick={() => router(`/posts/${post.id}`)}> Открыть</UiButton>\r\n        <UiButton onClick={() => remove(post)}> Удалить</UiButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import React from \"react\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport PostItem from \"./PostItem\";\r\n\r\nconst PostList = ({ posts, title, remove }) => {\r\n  if (!posts.length) {\r\n    return <h1 style={{ textAlign: \"center\" }}>Посты отсутствуют!</h1>;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: \"center\" }}>{title}</h1>\r\n      <TransitionGroup>\r\n        {posts.map((post, index) => (\r\n          <CSSTransition key={post.id} timeout={500} classNames=\"post\">\r\n            <PostItem remove={remove} number={post.id} post={post} />\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import React from \"react\";\r\nimport classes from \"./UiModal.module.css\";\r\n\r\nconst UiModal = ({ children, visible, setVisible }) => {\r\n  const rootClasses = [classes.uiModal];\r\n  if (visible) {\r\n    rootClasses.push(classes.active);\r\n  }\r\n  return (\r\n    <div className={rootClasses.join(\" \")} onClick={() => setVisible(false)}>\r\n      <div className={classes.uiModalContent} onClick={(e) => e.stopPropagation()}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UiModal;\r\n","export const getPageCount = (totalPages, limit) => {\r\n  return Math.ceil(totalPages / limit);\r\n};\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n  // TODO: useMemo\r\n  const pagesArray = [];\r\n  for (let i = 0; i < totalPages; i++) {\r\n    pagesArray.push(i + 1);\r\n  }\r\n  return pagesArray;\r\n};\r\n","import React from \"react\";\r\nimport { getPagesArray } from \"../../../utils/pages\";\r\nimport classes from \"./UiPagination.module.css\";\r\n\r\nconst UiPagination = ({ totalPages, page, changePage }) => {\r\n  // TODO: useMemo\r\n  let pagesArray = getPagesArray(totalPages);\r\n\r\n  const defaultClasses = classes.page;\r\n  const currentClasses = [defaultClasses, classes.page__current].join(\" \");\r\n\r\n  return (\r\n    <div className={classes.page__wrapper}>\r\n      {pagesArray.map((p) => (\r\n        <span\r\n          onClick={() => {\r\n            changePage(p);\r\n          }}\r\n          key={p}\r\n          className={page === p ? currentClasses : defaultClasses}\r\n        >\r\n          {p}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UiPagination;\r\n","import { useMemo } from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n  const sortedPosts = useMemo(() => {\r\n    if (sort) {\r\n      return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]));\r\n    }\r\n    return posts;\r\n  }, [sort, posts]);\r\n\r\n  return sortedPosts;\r\n};\r\n\r\nexport const usePosts = ({ posts, sort, query }) => {\r\n  const sortedPosts = useSortedPosts(posts, sort);\r\n  const sortedAndSearchedPosts = useMemo(() => {\r\n    return sortedPosts.filter((post) => post.title.toLowerCase().includes(query.toLowerCase()));\r\n  }, [query, sortedPosts]);\r\n  return sortedAndSearchedPosts;\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport PostService from \"../../API/PostService\";\r\n// import { createPortal } from \"react-dom\";\r\nimport PostFilter from \"../PostFilter\";\r\nimport PostForm from \"../PostForm\";\r\nimport PostList from \"../PostList\";\r\nimport UiButton from \"../UI/button/UiButton\";\r\nimport UiLoader from \"../UI/loader/UiLoader\";\r\nimport UiModal from \"../UI/modal/UiModal\";\r\nimport UiPagination from \"../UI/pagination/UiPagination\";\r\nimport { useFetching } from \"../../hooks/useFetching\";\r\nimport { usePosts } from \"../../hooks/usePosts\";\r\nimport \"../../styles/App.css\";\r\nimport { getPageCount } from \"../../utils/pages\";\r\nimport { useObserver } from \"../../hooks/useObserver\";\r\nimport UiSelect from \"../UI/select/UiSelect\";\r\n\r\nconst Posts = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [filter, setFilter] = useState({ sort: \"\", query: \"\" });\r\n  const [modal, setModal] = useState(false);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [limit, setLimit] = useState(10);\r\n  const [page, setPage] = useState(1);\r\n  const sortedAndSearchedPosts = usePosts({ posts, sort: filter.sort, query: filter.query });\r\n  const lastElement = useRef();\r\n\r\n  const [fetchPosts, isPostsLoading, postError] = useFetching(async (limit, page) => {\r\n    const resp = await PostService.getAll(limit, page);\r\n    setPosts([...posts, ...resp.data]);\r\n    const totalCount = resp.headers[\"x-total-count\"];\r\n    setTotalPages(getPageCount(totalCount, limit));\r\n  });\r\n\r\n  useObserver(lastElement, page < totalPages, isPostsLoading, () => {\r\n    setPage(page + 1);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPosts(limit, page);\r\n  }, [page, limit]);\r\n\r\n  const createPost = (newPost) => {\r\n    setPosts([...posts, newPost]);\r\n    setModal(false);\r\n  };\r\n\r\n  const removePost = (post) => {\r\n    setPosts(posts.filter((p) => p.id !== post.id));\r\n  };\r\n\r\n  const changePage = (page) => {\r\n    setPage(page);\r\n    fetchPosts(limit, page);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <UiButton style={{ marginTop: \"30px\" }} onClick={() => setModal(true)}>\r\n        Создать пост\r\n      </UiButton>\r\n      <UiModal visible={modal} setVisible={setModal}>\r\n        <PostForm create={createPost} />\r\n      </UiModal>\r\n      <hr style={{ margin: \"15px 0\" }} />\r\n      <PostFilter filter={filter} setFilter={setFilter} />\r\n      <UiSelect\r\n        value={limit}\r\n        onChange={(value) => setLimit(value)}\r\n        defaultValue=\"Кол-во постов на странице\"\r\n        options={[\r\n          { value: 5, name: \"5\" },\r\n          { value: 10, name: \"10\" },\r\n          { value: 20, name: \"20\" },\r\n          { value: -1, name: \"Все\" },\r\n        ]}\r\n      />\r\n      {postError && <h1>Произошла ошибка: {postError}</h1>}\r\n      <PostList remove={removePost} posts={sortedAndSearchedPosts} title={\"Список постов про JS\"} />\r\n      <div ref={lastElement} style={{ height: \"20px\", backgroundColor: \"yellow\" }}></div>\r\n      {isPostsLoading && (\r\n        <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: \"50px\" }}>\r\n          <UiLoader />\r\n        </div>\r\n      )}\r\n      <UiPagination page={page} changePage={changePage} totalPages={totalPages} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\r\n  const observer = useRef();\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      return;\r\n    }\r\n    if (observer.current) {\r\n      observer.current.disconnect();\r\n    }\r\n    const handleIntersect = (entries, observer) => {\r\n      if (entries[0].isIntersecting && canLoad) {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    observer.current = new IntersectionObserver(handleIntersect);\r\n    observer.current.observe(ref.current);\r\n  }, [isLoading]);\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context\";\r\nimport UiButton from \"../UI/button/UiButton\";\r\nimport UiInput from \"../UI/input/UiInput\";\r\n\r\nconst Login = () => {\r\n  const { setIsAuth } = useContext(AuthContext);\r\n\r\n  const logining = (e) => {\r\n    e.preventDefault();\r\n    setIsAuth(true);\r\n    localStorage.setItem(\"auth\", \"true\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Войти</h1>\r\n      <form onSubmit={logining}>\r\n        <UiInput type=\"text\" placeholder=\"Введите логин\" />\r\n        <UiInput type=\"password\" placeholder=\"Введите пароль\" />\r\n        <UiButton>Войти</UiButton>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import About from \"../components/pages/About\";\r\nimport Error from \"../components/pages/Error\";\r\nimport PostIdPage from \"../components/pages/PostIdPage\";\r\nimport Posts from \"../components/pages/Posts\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport Login from \"../components/pages/Login\";\r\n\r\nexport const privateRoutes = [\r\n  { path: \"/about\", element: <About /> },\r\n  { path: \"/posts/:id\", element: <PostIdPage /> },\r\n  { path: \"/posts\", element: <Posts /> },\r\n  { path: \"*\", element: <Error /> },\r\n  { path: \"/login\", element: <Navigate to=\"/posts\" replace /> },\r\n  { path: \"\", element: <Navigate to=\"/posts\" replace /> },\r\n];\r\n\r\nexport const publicRoutes = [\r\n  { path: \"/login\", element: <Login /> },\r\n  { path: \"*\", element: <Navigate to=\"/login\" replace /> },\r\n];\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context\";\r\nimport { privateRoutes, publicRoutes } from \"../router\";\r\nimport UiLoader from \"./UI/loader/UiLoader\";\r\n\r\nconst AppRouter = () => {\r\n  const { isAuth, isLoading } = useContext(AuthContext);\r\n\r\n  if (isLoading) {\r\n    return <UiLoader />;\r\n  }\r\n  return (\r\n    <div className=\"main\">\r\n      {isAuth ? (\r\n        <Routes>\r\n          {privateRoutes.map((r) => (\r\n            <Route path={r.path} element={r.element} key={r.path} />\r\n          ))}\r\n        </Routes>\r\n      ) : (\r\n        <Routes>\r\n          {publicRoutes.map((r) => (\r\n            <Route path={r.path} element={r.element} key={r.path} />\r\n          ))}\r\n        </Routes>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport UiNavbar from \"./components/UI/navbar/UiNavbar\";\r\nimport AppRouter from \"./components/AppRouter\";\r\nimport { AuthContext } from \"./context\";\r\n\r\nfunction App() {\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"auth\")) {\r\n      setIsAuth(true);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isAuth,\r\n        setIsAuth,\r\n        isLoading,\r\n      }}\r\n    >\r\n      <BrowserRouter basename=\"/ulbi-react-a-z\">\r\n        <UiNavbar />\r\n        <AppRouter />\r\n      </BrowserRouter>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}